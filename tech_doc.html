<!DOCTYPE html><html><head>
      <title>tech_doc</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///c:\Users\Robinson\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.8.19\crossnote\dependencies\katex\katex.min.css">
      
      
      
      
      
      <style>
      code[class*=language-],pre[class*=language-]{color:#333;background:0 0;font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.4;-moz-tab-size:8;-o-tab-size:8;tab-size:8;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:.8em;overflow:auto;border-radius:3px;background:#f5f5f5}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal;background:#f5f5f5}.token.blockquote,.token.comment{color:#969896}.token.cdata{color:#183691}.token.doctype,.token.macro.property,.token.punctuation,.token.variable{color:#333}.token.builtin,.token.important,.token.keyword,.token.operator,.token.rule{color:#a71d5d}.token.attr-value,.token.regex,.token.string,.token.url{color:#183691}.token.atrule,.token.boolean,.token.code,.token.command,.token.constant,.token.entity,.token.number,.token.property,.token.symbol{color:#0086b3}.token.prolog,.token.selector,.token.tag{color:#63a35c}.token.attr-name,.token.class,.token.class-name,.token.function,.token.id,.token.namespace,.token.pseudo-class,.token.pseudo-element,.token.url-reference .token.variable{color:#795da3}.token.entity{cursor:help}.token.title,.token.title .token.punctuation{font-weight:700;color:#1d3e81}.token.list{color:#ed6a43}.token.inserted{background-color:#eaffea;color:#55a532}.token.deleted{background-color:#ffecec;color:#bd2c00}.token.bold{font-weight:700}.token.italic{font-style:italic}.language-json .token.property{color:#183691}.language-markup .token.tag .token.punctuation{color:#333}.language-css .token.function,code.language-css{color:#0086b3}.language-yaml .token.atrule{color:#63a35c}code.language-yaml{color:#183691}.language-ruby .token.function{color:#333}.language-markdown .token.url{color:#795da3}.language-makefile .token.symbol{color:#795da3}.language-makefile .token.variable{color:#183691}.language-makefile .token.builtin{color:#0086b3}.language-bash .token.keyword{color:#0086b3}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}html body{font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ol,html body>ul{margin-bottom:16px}html body ol,html body ul{padding-left:2em}html body ol.no-list,html body ul.no-list{padding:0;list-style-type:none}html body ol ol,html body ol ul,html body ul ol,html body ul ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:700;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::after,html body code::before{letter-spacing:-.2em;content:'\00a0'}html body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:after,html body pre code:before,html body pre tt:after,html body pre tt:before{content:normal}html body blockquote,html body dl,html body ol,html body p,html body pre,html body ul{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body code,html body pre{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h1 id="supémon---pcdev1">Supémon - pCDEV1 </h1>
<p><em>Robinson Fostier, Mouhamadou Sy</em></p>
<hr>
<h2 id="technical-documentation">Technical documentation </h2>
<h3 id="project-architecture">Project architecture </h3>
<h4 id="directory-structure">Directory structure </h4>
<p>This project is written in C. It follows a modular architecture that separates source code files, headers, compiled objects and executable into dedicated directories for maintainability.</p>
<pre data-role="codeBlock" data-info="bash" class="language-bash bash"><code>supemon/
├── bin/
│   ├── supemon.exe
│   └── saves/
│       └── supemon_save.txt
├── src/
│   └── sources.c
├── include/
│   └── headers.h
├── obj/
│   └── objects.o
├── Makefile
└── README.md
</code></pre><ul>
<li><code>bin/</code> contains compiled binaries and savefiles.</li>
<li><code>src/</code> contains source code files.</li>
<li><code>include/</code> contains header files.</li>
<li><code>obj/</code> contains compiled objects.</li>
<li><code>Makefile</code> is a custom made file that automates compilation on Linux and Windows.</li>
<li><code>README.md</code> contains User Doc and Technical Doc. It is the file you are currently looking at.</li>
</ul>
<h4 id="makefile-targets">Makefile Targets </h4>
<p>Three commands are defined within Makefile :</p>
<ul>
<li><code>make</code> compiles the project and produces <code>bin/supemon.exe</code></li>
<li><code>make run</code> builds and runs the program</li>
<li><code>make clean</code> cleans the build</li>
</ul>
<h4 id="build-process">Build Process </h4>
<ol>
<li>Compile Sources<br>
Each <code>.c</code> file in <code>src/</code> is compiled into an <code>.o</code> file in <code>obj/</code>, using <code>.h</code> files in <code>include/</code></li>
<li>Link Objects<br>
<code>.o</code> files are linked together to produce an executable in <code>bin/</code></li>
<li>Run<br>
Execute the program from <code>bin/supemon.exe</code></li>
<li>Clean<br>
Use <code>make clean</code> to clean the build by removing all files in <code>obj/</code> and <code>bin/</code></li>
</ol>
<hr>
<h3 id="data-structures">Data structures </h3>
<h4 id="player">Player </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
    <span class="token keyword keyword-char">char</span> name<span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
    Supemon supemons<span class="token punctuation">[</span>MAX_SUPEMONS<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-int">int</span> active_index<span class="token punctuation">;</span>
    <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> coins<span class="token punctuation">;</span>
    <span class="token keyword keyword-const">const</span> Item<span class="token operator">*</span> items<span class="token punctuation">[</span>MAX_ITEMS<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> Player<span class="token punctuation">;</span>
</code></pre><p>This structure contains all data associated with the Player:</p>
<ol>
<li><code>name</code> is a char array of size 12 + 1 for '\0'. It stores the name of the Player.</li>
<li><code>supemons</code> is a Supemon array of size 6. This is where captured Supemons live in memory. The empty slots memory addresses are filled with 0s. Checking for empty slots is done by looking for any Supemon with level equal to 0.</li>
<li><code>active_index</code> is an integer that allows us to keep track of the current active Supemon.</li>
<li><code>coins</code> is a positive integer that keeps track of the Player's wallet. The Player cannot have debt.</li>
<li><code>items</code> is an const Item pointer array of size 20. It stores one pointer per each item in the Player's collection. They point to one of the three const Item defined in <code>items.c</code>.</li>
</ol>
<h4 id="supemon">Supemon </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>    <span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-char">char</span> name<span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-char">char</span> <span class="token operator">*</span>type<span class="token punctuation">;</span>
        <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> level<span class="token punctuation">;</span>
        <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> experience<span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> health<span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> max_health<span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> attack<span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> base_attack<span class="token punctuation">;</span>
        <span class="token comment">// More stats</span>
        <span class="token keyword keyword-int">int</span> speed<span class="token punctuation">;</span>
        <span class="token keyword keyword-const">const</span> Move<span class="token operator">*</span> moves<span class="token punctuation">[</span>MAX_MOVES<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> Supemon<span class="token punctuation">;</span>
</code></pre><p>This structure contains all data associated with Supemons:</p>
<ol>
<li><code>name</code> is a char array of size 12 + 1 for '\0'. It stores the name of the Supemon.</li>
<li><code>type</code> refers to specific color codes defined in <code>colors.h</code> and is used to print the name of the Supemon in a color commonly associated with its type.</li>
<li><code>level</code> and <code>experience</code> are positive integers for keeping track of the Supemon current level.</li>
<li>11 integers are used to store the Supemon statistics. <code>attack</code>, <code>defense</code>, <code>accuracy</code> and <code>evasion</code> are always equal to 0 outside battles. <code>health</code> cannot be greater than <code>max_health</code>.</li>
<li><code>moves</code> is a const Move pointer array of size 4. It stores one pointer per move known by the Supemon. If the Supemon doesn't know 4 moves, the remaining slots store <code>NULL</code>.</li>
</ol>
<h4 id="move">Move </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>    <span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-enum">enum</span> <span class="token punctuation">{</span>
        MOVE_OFFENSIVE<span class="token punctuation">,</span>
        MOVE_ATTACK<span class="token punctuation">,</span>
        MOVE_DEFENSE<span class="token punctuation">,</span>
        MOVE_EVASION<span class="token punctuation">,</span>
        MOVE_ACCURACY
    <span class="token punctuation">}</span> MoveType<span class="token punctuation">;</span>

    <span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-char">char</span> name<span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-int">int</span> damage<span class="token punctuation">;</span> <span class="token comment">// positive for damage/buffs, negative for healing/debuffs</span>
        MoveType type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> Move<span class="token punctuation">;</span>
</code></pre><p>This structure contains all data associated with Moves:</p>
<ol>
<li><code>name</code> is a char array of size 12 + 1 for '\0'. It stores the name of the Move.</li>
<li><code>damage</code> is an integer that stores the damage/heal/buff/debuff value associated with the Move.</li>
<li><code>type</code> is a MoveType that specifies the effect of the Move.
<ul>
<li><code>MOVE_OFFENSIVE</code> represents Moves that deal damage to the target - when positive -, or heal the launcher - when negative -.</li>
<li><code>MOVE_ATTACK</code>, <code>MOVE_DEFENSE</code>, <code>MOVE_EVASION</code> and <code>MOVE_ACCURACY</code> represent Moves that buff the launcher - when positive -, or debuff the target - when negative -.</li>
</ul>
</li>
</ol>
<h4 id="item">Item </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>    <span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-enum">enum</span> <span class="token punctuation">{</span>
        ITEM_POTION<span class="token punctuation">,</span>
        ITEM_SUPER_POTION<span class="token punctuation">,</span>
        ITEM_RARE_CANDY
    <span class="token punctuation">}</span> ItemType<span class="token punctuation">;</span>

    <span class="token keyword keyword-typedef">typedef</span> <span class="token keyword keyword-struct">struct</span> <span class="token punctuation">{</span>
        <span class="token keyword keyword-char">char</span> name<span class="token punctuation">[</span>MAX_NAME_LENGTH<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-unsigned">unsigned</span> <span class="token keyword keyword-int">int</span> price<span class="token punctuation">;</span>
        ItemType type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> Item<span class="token punctuation">;</span>
</code></pre><p>This structure contains all data associated with Items:</p>
<ol>
<li><code>name</code> is a char array of size 12 + 1 for '\0'. It stores the name of the Item.</li>
<li><code>price</code> is a positive integer that stores the buying price of the Item in the shop.</li>
<li><code>type</code> is an ItemType that specifies the effect of the Item.</li>
</ol>
<p>Three ItemTypes are implemented in the game : <code>ITEM_POTION</code>, <code>ITEM_SUPER_POTION</code> and <code>ITEM_RARE_CANDY</code>.</p>
<hr>
<h3 id="constants">Constants </h3>
<h4 id="supemons">Supemons </h4>
<p>Three Supemons are defined as constants in this game :</p>
<ul>
<li><code>SUPMANDER</code></li>
<li><code>SUPASAUR</code></li>
<li><code>SUPIRTLE</code></li>
</ul>
<p>When initializing a random Supemon in battle, these level 1 templates are referenced and the program makes a deepcopy of these Supemons in the stack.<br>
When adding a Supemon to the Player's team, these deepcopies are stored in heap.</p>
<h4 id="moves">Moves </h4>
<p>Five Moves are defined as constants in this game :</p>
<ul>
<li><code>SCRATCH</code></li>
<li><code>GROWL</code></li>
<li><code>POUND</code></li>
<li><code>FOLIAGE</code></li>
<li><code>SHELL</code></li>
</ul>
<p>Every Move pointer stored by Supemons points to the address of one of these reference. That way, we only define the Moves once and they can never be tempered with.</p>
<h4 id="items">Items </h4>
<p>Three Items are defined as constants in this game :</p>
<ul>
<li><code>POTION</code></li>
<li><code>SUPER_POTION</code></li>
<li><code>RARE_CANDY</code></li>
</ul>
<p>Every Item pointer stored by Player points to the address of one of these reference. That way, we only define the Items once and they can never be tempered with.</p>
<h4 id="global-constants">Global constants </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_NAME_LENGTH</span> <span class="token expression"><span class="token number">13</span> </span><span class="token comment">// 12 + '\0'</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_SUPEMONS</span>    <span class="token expression"><span class="token number">6</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_ITEMS</span>       <span class="token expression"><span class="token number">20</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAX_MOVES</span>       <span class="token expression"><span class="token number">4</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SAVE_FILE</span>       <span class="token string">"bin/saves/supemon_save.txt"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">SAVE_DIR</span>        <span class="token string">"bin/saves"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BOX_WIDTH</span>       <span class="token expression"><span class="token number">30</span> </span><span class="token comment">// number of writable chars in print box</span></span>
</code></pre><p>These macros are defined in <code>global.h</code> and used throughout the code to maintain coherence. They are self explanatory.</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BLACK</span>   <span class="token string">"\033[30m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">RED</span>     <span class="token string">"\033[31m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">GREEN</span>   <span class="token string">"\033[32m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">YELLOW</span>  <span class="token string">"\033[33m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BLUE</span>    <span class="token string">"\033[34m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MAGENTA</span> <span class="token string">"\033[35m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CYAN</span>    <span class="token string">"\033[36m"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WHITE</span>   <span class="token string">"\033[37m"</span></span>

<span class="token comment">// More colors</span>
</code></pre><p>ANSI color codes are defined in <code>colors.h</code> and used throughout the code to enhance the graphical rendering.</p>
<h4 id="static-constants">Static constants </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BATTLE_ITEM_LIMIT</span> <span class="token expression"><span class="token number">4</span></span></span>
</code></pre><p>This macro is defined in <code>battle.c</code> to ensure that the Player doesn't use more than 4 Items in a single battle.</p>
<hr>
<h3 id="program-overview">Program overview </h3>
<h4 id="entry-point">Entry point </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Player player <span class="token operator">=</span> <span class="token function">start_game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword keyword-while">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span><span class="token function">chose_action</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>player<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword keyword-break">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p><code>main()</code> is defined in main.c. It acts as the entry point to our program. A Player object is created with <code>start_game()</code>, and the program then loops over <code>chose_action()</code> until the user asks to exit the game.</p>
<h4 id="creating-a-player">Creating a Player </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>Player <span class="token function">start_game</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Player player<span class="token punctuation">;</span>

    <span class="token comment">// Asks the user to chose between loading a save and starting a new game</span>
    
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>launch_choice <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">load_game</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> player<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// Asks the user to chose a name and a starter Supemon</span>

    <span class="token function">init_player</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>player<span class="token punctuation">,</span> name<span class="token punctuation">,</span> starter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> player<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>The role of <code>start_game()</code> is to create a Player object, either through loading saved data or creating a new game.<br>
When creating a new game, a Player is initialized using <code>init_player()</code>.</p>
<p>A Player is composed of Supemons, themselves composed of Moves pointers, and Items pointers.<br>
Those four structures and all functional logic associated with them are located into specific files : player.c, supemon.c, moves.c and items.c, and their respective header files.<br>
The game only needs a properly initialized Player object and the defined constants to run.</p>
<h4 id="game-loop">Game loop </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token function">chose_action</span><span class="token punctuation">(</span>Player<span class="token operator">*</span> player<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Asks for 1 of 4 actions : start a random encounter, go to the Supemon Center, go to the Shop, or exit the game</span>

    <span class="token keyword keyword-switch">switch</span> <span class="token punctuation">(</span>action_choice<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword keyword-case">case</span> <span class="token number">1</span><span class="token operator">:</span>
            <span class="token function">go_to_battle</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-case">case</span> <span class="token number">2</span><span class="token operator">:</span>
            <span class="token function">go_to_shop</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-case">case</span> <span class="token number">3</span><span class="token operator">:</span>
            <span class="token function">go_to_center</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-case">case</span> <span class="token number">4</span><span class="token operator">:</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// Asks if the user wants to save and quit, quit without saving or keep playing</span>

            <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>save_choice <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>
            <span class="token punctuation">{</span>
                <span class="token function">save_game</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>save_choice <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword keyword-else">else</span> <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>This functions asks as the main loop for our game. <code>main()</code> will keep calling it until it returns 0, at which point the user has asked to exit the game.<br>
Three main areas are implemented for the Player to explore :</p>
<ul>
<li><code>go_to_battle()</code> will start an encounter against a randomly selected Supemon.</li>
<li><code>go_to_shop()</code> will send the Player to the Supemart, where they can buy and sell items.</li>
<li><code>go_to_center()</code> will send the Player to the Supemon Center, where they can take a look at their Supemons and heal them and/or decide to switch their active Supemon.</li>
</ul>
<p>Each of those areas functionalities are defined in functions located in area-specific files : battle.c, shop.c and center.c, and their respective header files.</p>
<h4 id="io-utilities">I/O utilities </h4>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-void">void</span> <span class="token function">enable_colors</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// Is called at the entry point to enable colors on Windows OS</span>
<span class="token keyword keyword-void">void</span> <span class="token function">npc_dialog</span><span class="token punctuation">(</span><span class="token keyword keyword-char">char</span> <span class="token operator">*</span>message<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> time_in_ms<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// Prints a line of dialog, char by char</span>
<span class="token keyword keyword-void">void</span> <span class="token function">clear_terminal</span><span class="token punctuation">(</span><span class="token keyword keyword-void">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment">// Clears the terminal for a clean look at the game</span>
<span class="token keyword keyword-int">int</span> <span class="token function">get_input_counted</span><span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> min<span class="token punctuation">,</span> <span class="token keyword keyword-int">int</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token comment">// Asks the player for an integer, and ensures the validity of that input</span>
<span class="token keyword keyword-void">void</span> <span class="token function">print_colored</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> color<span class="token punctuation">,</span> <span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Prints a string in specified color</span>
<span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> <span class="token function">type_to_color</span><span class="token punctuation">(</span><span class="token keyword keyword-const">const</span> <span class="token keyword keyword-char">char</span><span class="token operator">*</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">// Returns the ANSI code associated with a specified type</span>
</code></pre><p>I/O management is done using functions located in utils.c. These functions help us maintain graphical coherence and ensure input safety. They are used throughout the code.</p>
<h4 id="saving--loading">Saving / Loading </h4>
<p>Saves are stored in <code>bin/saves/supemon_save.txt</code>. They are encrypted in plain text, which allows us to easily modify save informations.</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code><span class="token keyword keyword-int">int</span> <span class="token function">save_game</span><span class="token punctuation">(</span>Player<span class="token operator">*</span> player<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    FILE<span class="token operator">*</span> file <span class="token operator">=</span> <span class="token function">fopen</span><span class="token punctuation">(</span>SAVE_FILE<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-if">if</span> <span class="token punctuation">(</span>file <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Error: Cannot create save file.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword keyword-return">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Print attributes in *player</span>

    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> supemon_count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Supemon<span class="token operator">*</span> s <span class="token operator">=</span> <span class="token operator">&amp;</span>player<span class="token operator">-&gt;</span>supemons<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">// Print attributes in *s</span>
    <span class="token punctuation">}</span>

    <span class="token function">fprintf</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">"%d\n"</span><span class="token punctuation">,</span> item_count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-for">for</span> <span class="token punctuation">(</span><span class="token keyword keyword-int">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> item_count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Print item code associated with player-&gt;items[i]</span>
    <span class="token punctuation">}</span>

    <span class="token function">fclose</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\nGame saved successfully!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword keyword-return">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>This function is located in player.c. It saves all attributes associated with the Player object pointed by the pointer passed as argument.<br>
The output typically looks like this :</p>
<pre data-role="codeBlock" data-info="c" class="language-c c"><code>Ash Ketsup  <span class="token comment">// player-&gt;name</span>
<span class="token number">100</span>         <span class="token comment">// player-&gt;coins</span>
<span class="token number">0</span>           <span class="token comment">// player-&gt;active_index</span>
<span class="token number">3</span>           <span class="token comment">// supemon_count</span>
<span class="token comment">// supemon-&gt;name, supemon-&gt;type, statistics, moves</span>
Supasaur GREEN <span class="token number">1</span> <span class="token number">300</span> <span class="token number">9</span> <span class="token number">9</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">3</span> <span class="token number">2</span> <span class="token number">2</span> Pound Foliage NONE NONE 
<span class="token number">3</span>           <span class="token comment">// items_count</span>
<span class="token number">1</span> <span class="token number">3</span> <span class="token number">2</span>       <span class="token comment">// codes associated with items in player-&gt;items[]</span>
</code></pre><p><code>load_game()</code> acts as a complementary function to <code>save_game()</code>. It is also located in player.c, but returns a Player instead of taking one as argument.<br>
Using informations stored in <code>bin/saves/supemon_save.txt</code>, we are able to fully reconstruct a previously saved Player object. Safeguards are implemented to ensure the retrieved information is compatible with a game of Supemon.</p>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>